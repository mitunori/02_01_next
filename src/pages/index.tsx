import Head from "next/head";
import Header from "@/components/Header";
import styles from "../styles/style.module.scss";
import Timeline from "@/components/Timeline";
import Post from "@/components/Post";
import { useEffect, useState } from "react";

type Post = {
  id: number;
  name: string;
  date: string;
  content: string;
};

// MEMO: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‹ã‚‰å–å¾—ã—ã¦ã„ã‚‹ã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ğŸ¤—ï¼ˆAPIï¼‰
const dummyData: Post[] = [
  {
    id: 1,
    name: "å±±ç”° å¤ªéƒ",
    date: "2024-02-01",
    content: "ä»Šæ—¥ã¯Reactã®å‹‰å¼·ã‚’ã—ã¾ã—ãŸï¼",
  },
  {
    id: 2,
    name: "ä½è—¤ èŠ±å­",
    date: "2024-02-02",
    content: "æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒå§‹ã¾ã‚Šã¾ã—ãŸã€‚",
  },
  {
    id: 3,
    name: "éˆ´æœ¨ ä¸€éƒ",
    date: "2024-02-03",
    content: "Next.jsã®SSRã‚’è©¦ã—ã¦ã„ã¾ã™ã€‚",
  },
  {
    id: 4,
    name: "ç”°ä¸­ æ¡ƒå­",
    date: "2024-02-04",
    content: "UIãƒ‡ã‚¶ã‚¤ãƒ³ã®æ”¹å–„ã‚’è¡Œã„ã¾ã—ãŸã€‚",
  },
  {
    id: 5,
    name: "ä¸­æ‘ å¥",
    date: "2024-02-05",
    content: "TypeScriptã®å‹å®‰å…¨æ€§ã«ã¤ã„ã¦å­¦ç¿’ä¸­ã€‚",
  },
];

export default function Home() {
  // useStateã‚’è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„ğŸ¤—
  const [posts, setPosts] = useState<Post[]>([]);

  // useEffectã®å‡¦ç†=ç”»é¢ãŒè¡¨ç¤ºã•ã‚ŒãŸç›´å¾Œã«ï¼‘åº¦å®Ÿè¡Œã•ã‚Œã¾ã™ğŸ¤—
  useEffect(() => {
    // ã“ã“ã«æ›¸ã

    setPosts(dummyData);
    // ã“ã“ã®ä¸‹æ¶ˆã•ãªã„
  }, []);

  // è¿½åŠ 
  console.log(posts, "ãƒ‡ãƒ¼ã‚¿");

  return (
    <>
      <Head>
        <title>Create Next App</title>
        <meta name="description" content="Generated by create next app" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <main className={styles.container}>
        {/*  */}
        {/* å…ˆã»ã©ä½œæˆã—ãŸHeaderã®ãƒ‘ãƒ¼ãƒ„ã‚’å‘¼ã³å‡ºã™è¨˜è¿°ã‚’æ›¸ãã¾ã™ğŸ¤— */}
        <Header />

        <Timeline />

        {/* å¾Œã§æ¶ˆã—ã¾ã™ãŒå…ˆã«è¡¨ç¤ºã®ç¢ºèªã‚’ã—ã¾ã—ã‚‡ã†ğŸ¤— */}
        {/* <Button textColor="pink" bg="blue" /> */}

        {/* è¡¨ç¤ºã™ã‚‹æ™‚ã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ğŸ¤— */}
        {posts.map((item, index) => (
          <Post
            key={index}
            id={item.id}
            name={item.name}
            date={item.date}
            content={item.content}
          />
        ))}
        {/*  */}
      </main>
    </>
  );
}
